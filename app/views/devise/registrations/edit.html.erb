<div class="content is-center has-text-centered is-size-5 mt-6">
  <h2>Actualizar Información</h2>
</div>

<div class="box mx-6 mr-6 is-align-self-center">

  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>

    <div class="field">
      <%= f.label :email, class: "label" %>

      <div class="control has-icons-left has-icons-right">

        <%= f.email_field :email, autofocus: true, autocomplete: "email", class:"input", placeholder: "Ingresa tu Email", value: "" %>
        <span class="icon is-small is-left">
        	<i class="fas fa-envelope"></i>
        </span>

      </div>
    </div>

    <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
    	<div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
    <% end %>

    <div class="field">
    	<%= f.label :contraseña, class: "label" %> <i>(Dejar en blanco si no desea cambiarlo)</i>

		<div class="control has-icons-left has-icons-right">
			<%= f.password_field :password, autocomplete: "new-password", class:"input", placeholder: "Ingresa tu Contraseña" %>
				<span class="icon is-small is-left">
			<i class="fas fa-lock"></i>
			</span>
		</div>

		<% if @minimum_password_length %>
			<em><%= @minimum_password_length %> caracteres mínimos</em>
		<% end %>

    </div>

	<div class="field">
		<%= f.label :confirmar_contraseña, class: "label" %>
		<div class="control has-icons-left has-icons-right">
			<%= f.password_field :password_confirmation, autocomplete: "new-password", class:"input", placeholder: "Confirma tu Contraseña" %>
			<span class="icon is-small is-left">
				<i class="fas fa-lock"></i>
			</span>
		</div>
	</div>

    <div class="field">
		<%= f.label :contraseña_actual, class: "label" %> <i>(Se nececita su contraseña actual para confirmar sus cambios)</i>
		<div class="control has-icons-left has-icons-right">
			<%= f.password_field :current_password, autocomplete: "new-password", class:"input", placeholder: "Confirma tu Contraseña" %>
			<span class="icon is-small is-left">
				<i class="fas fa-lock"></i>
			</span>

		</div>
    </div>

    <div class="field">
		<%= f.label :nombre, class: "label" %>
		<div class="control has-icons-left has-icons-right">
			<%= f.text_field :name, class: "input", placeholder: "Ingresa tu Nombre", value: "" %>
			<span class="icon is-small is-left">
				<i class="fas fa-user"></i>
			</span>
		</div>
    </div>

    <div class="field">
		<%= f.label :teléfono, class: "label" %>
		<div class="control has-icons-left has-icons-right">
			<%= f.text_field :cellphone, class: "input", placeholder: "Ingresa tu Teléfono", value: "" %>
			<span class="icon is-small is-left">
				<i class="fas fa-phone"></i>
			</span>

			<% if resource.errors[:cellphone].include?("is the wrong length (should be 9 characters)") %>
				<p class="help is-danger"> Tiene que ser de 9 caracteres </p>

			<% end %>

		</div>
    </div>

    <div class="field">
		<%= f.label :descripción, class:"label" %>
		<div class="control">
			<%= f.text_area :description, class: "textarea", placeholder: "Textarea"%>
		</div>
    </div>

    <div class="file has-name">
		<label class="file-label">
			<%= f.file_field :images_path, class: "file-input" %>
			<span class="file-cta">
				<span class="file-icon">
					<i class="fas fa-upload"></i>
				</span>

				<span class="file-label">
					Foto de Perfil
				</span>
			</span>
		</label>
    </div>

    <br>

    <div class="field is-grouped">

		<div class="control">
			<%= f.submit "Registrarse", class: "button is-link" %>
		</div>

		<div class="control">
			<%= f.submit "Actualizar", class: "button is-link" %>
		</div>

		<div class="control">
			<%= link_to "Volver", "/", class: "button is-link" %>
		</div>

    </div>
  <% end %>

	<div class="content is-center has-text-centered is-size-5">
		<h3>Eliminar cuenta</h3>
	</div>

	<div class="content has-text-centered">
		<%= button_to "Eliminar", registration_path(resource_name), data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, method: :delete, class: "button is-danger" %>
	</div>

</div>
